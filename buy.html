<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>انتخاب اشتراک</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            direction: rtl;
            background-color: #f4f4f4;
            color: #333;
        }

        .container {
            max-width: 400px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        h1, h2 {
            text-align: center;
        }

        select {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: #fff;
            appearance: none;
        }

        .hidden {
            display: none;
        }

        .button {
            display: block;
            width: 100%;
            text-align: center;
            padding: 10px;
            margin: 20px 0;
            background-color: #28a745;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            cursor: pointer;
            border: none;
            font-size: 16px;
        }

        .button:hover {
            background-color: #218838;
        }

        .back-button {
            display: block;
            margin: 10px auto;
            text-align: center;
            color: #007bff;
            text-decoration: none;
            font-size: 14px;
        }

        .back-button:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>خرید اشتراک</h1>

        <!-- مرحله 1: انتخاب نوع اشتراک -->
        <div id="step1">
            <h2>یک گزینه را انتخاب کنید:</h2>
            <select id="subscriptionType">
                <option value="" disabled selected>انتخاب کنید</option>
                <option value="normal">اشتراک عادی</option>
                <option value="instant">اشتراک فوری</option>
            </select>
        </div>

        <!-- مرحله 2: انتخاب دستگاه (فقط برای اشتراک فوری) -->
        <div id="step2" class="hidden">
            <h2>دستگاه خود را انتخاب کنید:</h2>
            <select id="deviceType">
                <option value="" disabled selected>انتخاب کنید</option>
                <option value="iphone">آیفون</option>
                <option value="ipad">آیپد</option>
            </select>
        </div>

        <!-- مرحله 3: نمایش اطلاعات اشتراک -->
        <div id="finalStep" class="hidden">
            <h2 id="finalTitle"></h2>
            <p id="finalPrice"></p>
            <a href="#" id="buyLink" class="button">خرید اشتراک</a>
            <a href="#" id="backToPrevious" class="back-button">بازگشت</a>
        </div>
    </div>

    <script>
        const step1 = document.getElementById('step1');
        const step2 = document.getElementById('step2');
        const finalStep = document.getElementById('finalStep');
        const subscriptionType = document.getElementById('subscriptionType');
        const deviceType = document.getElementById('deviceType');
        const finalTitle = document.getElementById('finalTitle');
        const finalPrice = document.getElementById('finalPrice');
        const buyLink = document.getElementById('buyLink');
        const backToPrevious = document.getElementById('backToPrevious');

        let selectedType = '';
        let selectedDevice = '';

        // مرحله 1: انتخاب نوع اشتراک
        subscriptionType.addEventListener('change', () => {
            selectedType = subscriptionType.value;
            if (selectedType === 'normal') {
                // نمایش اطلاعات اشتراک عادی
                showFinalStep('خرید اشتراک عادی', '586,000 تومان', 'link_to_normal_subscription');
            } else if (selectedType === 'instant') {
                // نمایش مرحله 2
                step1.classList.add('hidden');
                step2.classList.remove('hidden');
            }
        });

        // مرحله 2: انتخاب دستگاه
        deviceType.addEventListener('change', () => {
            selectedDevice = deviceType.value;
            if (selectedDevice === 'iphone') {
                showFinalStep('خرید اشتراک فوری برای آیفون', '549,000 تومان', 'link_to_instant_iphone');
            } else if (selectedDevice === 'ipad') {
                showFinalStep('خرید اشتراک فوری برای آیپد', '349,000 تومان', 'link_to_instant_ipad');
            }
        });

        // نمایش مرحله نهایی
        function showFinalStep(title, price, link) {
            finalTitle.textContent = title;
            finalPrice.textContent = `قیمت: ${price}`;
            buyLink.href = link;
            step2.classList.add('hidden');
            step1.classList.add('hidden');
            finalStep.classList.remove('hidden');
        }

        // دکمه بازگشت
        backToPrevious.addEventListener('click', (e) => {
            e.preventDefault();
            if (selectedDevice) {
                // بازگشت به انتخاب دستگاه
                selectedDevice = '';
                finalStep.classList.add('hidden');
                step2.classList.remove('hidden');
            } else if (selectedType) {
                // بازگشت به انتخاب نوع اشتراک
                selectedType = '';
                finalStep.classList.add('hidden');
                step2.classList.add('hidden');
                step1.classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
